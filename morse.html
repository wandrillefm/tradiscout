<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Code Morse – Tradiscout</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="FINAL.png">
  <link href="https://fonts.googleapis.com/css2?family=Sanchez&family=Uncial+Antiqua&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #e2e5b3;
      color: #0a1d37;
      font-family: 'Sanchez', serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 30px 15px;
      text-align: center;
    }
    h1 {
      font-family: 'Uncial Antiqua', cursive;
      margin-bottom: 10px;
    }
    .translator {
      max-width: 600px;
      width: 100%;
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    textarea {
      width: 100%;
      padding: 8px;
      resize: vertical;
    }
    button {
      align-self: center;
      padding: 6px 12px;
      border-radius: 4px;
      border: 1px solid #0a1d37;
      background-color: #0a1d37;
      color: #e2e5b3;
      cursor: pointer;
    }
    button:hover {
      background-color: #e2e5b3;
      color: #0a1d37;
    }
    a.back-link {
      margin-top: 20px;
      color: #0a1d37;
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <h1>Code Morse</h1>
  <p>Traducteur texte ↔ Morse (utilise “/” pour séparer les mots en Morse).</p>

  <div class="translator">
    <textarea id="morse-input" rows="3" placeholder="Texte clair (A–Z, chiffres)"></textarea>
    <button id="to-morse">→ Morse</button>
    <textarea id="morse-output" rows="3" placeholder=".‑‑. .‑.. ..‑ ..."></textarea>
    <button id="to-text">→ Texte</button>
  </div>

  <a href="index.html" class="back-link">← Retour à Tradiscout</a>

  <script>
    const morseMap = {
      'A': '.-',   'B': '-...', 'C': '-.-.', 'D': '-..',  'E': '.',
      'F': '..-.', 'G': '--.',  'H': '....', 'I': '..',   'J': '.---',
      'K': '-.-',  'L': '.-..', 'M': '--',   'N': '-.',   'O': '---',
      'P': '.--.', 'Q': '--.-', 'R': '.-.',  'S': '...',  'T': '-',
      'U': '..-',  'V': '...-', 'W': '.--',  'X': '-..-', 'Y': '-.--',
      'Z': '--..',
      '0':'-----','1':'.----','2':'..---','3':'...--','4':'....-',
      '5':'.....','6':'-....','7':'--...','8':'---..','9':'----.'
    };

    const inverseMorse = Object.fromEntries(
      Object.entries(morseMap).map(([k,v]) => [v,k])
    );

    const inputText = document.getElementById('morse-input');
    const outputText = document.getElementById('morse-output');

    document.getElementById('to-morse').onclick = () => {
      const txt = inputText.value.toUpperCase();
      const result = txt.split('').map(ch => {
        if (ch === ' ') return '/';
        return morseMap[ch] || '';
      }).join(' ');
      outputText.value = result.trim();
    };

    document.getElementById('to-text').onclick = () => {
      const code = outputText.value.trim();
      if (!code) {
        inputText.value = '';
        return;
      }
      const words = code.split(' / ');
      const decoded = words.map(w =>
        w.split(' ').map(sym => inverseMorse[sym] || '').join('')
      ).join(' ');
      inputText.value = decoded;
    };
  </script>
</body>
</html>
